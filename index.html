<!DOCTYPE html>
<html>
	<head>
		<title>MV</title>
		<meta charset="utf-8" name="description" content="">
		
    <!-- aframe script -->
		<script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@1f00d0beadf87bad7d275c174616e048f8b573fc/dist/aframe-master.min.js"></script>

    <!-- other component -->
		<!-- <script src="https://unpkg.com/aframe-audioanalyser-component@5.4.0/dist/aframe-audioanalyser-component.min.js"></script>  -->
		<script src="https://unpkg.com/aframe-audio-analyser@^1.0.0/dist/aframe-audio-analyser.umd.js"></script>

		<script src="./js/soundutils.js"></script>
		<script src="./js/generate.js"></script>
		<script src="./js/emitonclick.js"></script>
		<script src="./js/clicktoplay.js"></script>
		<script src="./js/analysereffect.js"></script>

		<!-- find somewhere to credit  -->
    <!-- Music: Le Gang 
    https://soundcloud.com/thisislegang/in-tro -->
	</head>
	<body>
		<a-scene background="color: #000503"
			pool__plane="mixin: planem;
						size: 1000;
						container: #planegroup"
			pool__plane2="mixin: planem;
						size: 1000;
						container: #planegroup2"
			pool__plane3="mixin: planem;
						size: 1000;
						container: #planegroup3"
			pool__plane4="mixin: planem;
						size: 1000;
						container: #planegroup4">
			<a-assets>
				<audio id="intro"
					src="./assets/sound/Intro.mp3"
					preload="true"
				></audio>
				<a-mixin id="planem"
					rotation="-90 0 0"
					geometry="primitive: plane;
							height:0.8"
					material="color: white; 
							opacity: 0;
							side: double;"
					animation__fadein="property: material.opacity;
						from: 0.;
						to: 1.;
						loop: true;
						dir: alternate;
						dur: 500;">
				</a-mixin>
			</a-assets>
			<a-entity id="planegroup" 
			    rotation="0 0 0"
				position="0 0 0"
				generatefloor>
			</a-entity>

			<a-entity id="planegroup2"
			    rotation="0 0 90"
			    position="-2.5 2 0"
				generatefloor>
			</a-entity>

			<a-entity id="planegroup3"
			    rotation="0 0 90"
			    position="2.5 2 0"
				generatefloor>
			</a-entity>

			<a-entity id="planegroup4"
			    rotation="0 0 0"
			    position="0 4 0"
				generatefloor>
			</a-entity>

			
			
			<a-box id="obj1"
				position="0 2 -5"
				color=" #006EFF"
				class="interactable"
				clicktoplay="src: #intro"
				animation="property: position;
						to: 0 2.1 -5;
						dur: 2000; 
						loop: true;
						dir: alternate;
						easing: easeOutSine;						;
						"
				animation__rot="property: rotation;
						delay: 1500;
						to: 0 360 0;
						dur: 3000; 
						loop: true;"
				animation__mouseenter="property: scale;
						to: 1.1 1.1 1.1;
						startEvents: mouseenter;
						dur: 200"
				animation__mouseentercolor="property: color;
						to: #65A8FF;
						startEvents: mouseenter;
						dur: 200"
				animation__mouseleavecolor="property: color;
						to: #006EFF;
						startEvents: mouseleave;
						dur: 200"
				animation__mouseleave="property: scale;
						to: 1 1 1;
						startEvents: mouseleave;
						dur: 200"
				animation__disappear="property: visible;
						to: false;
						startEvents: click"
				emitonclick>
			</a-box>

			<a-tetrahedron id="obj2"
				position="-3 2 -5"
				color=" #006EFF"
				class="interactable"
				animation="property: position;
						to: -3 2.1 -5;
						dur: 2000; 
						loop: true;
						dir: alternate;
						easing: easeInOutCubic;						;
						"
				animation__rot="property: rotation;
						delay: 1500;
						to: 0 360 0;
						dur: 3000; 
						loop: true;"
				animation__mouseenter="property: scale;
						to: 1.1 1.1 1.1;
						startEvents: mouseenter;
						dur: 200"
				animation__mouseentercolor="property: color;
						to: #00214D;
						startEvents: mouseenter;
						dur: 200"
				animation__mouseleavecolor="property: color;
						to: #006EFF;
						startEvents: mouseleave;
						dur: 200"
				animation__mouseleave="property: scale;
						to: 1 1 1;
						startEvents: mouseleave;
						dur: 200"
				animation__disappear="property: visible;
						to: false;
						startEvents: click"
						>
			</a-tetrahedron>

			<a-octahedron id="obj3"
				position=" 3 2 -5"
				color=" #006EFF"
				class="interactable"
				animation="property: position;
						to: 3 2.1 -5;
						dur: 2000; 
						loop: true;
						dir: alternate;
						easing: easeInOutQuint;						;
						"
				animation__rot="property: rotation;
						delay: 1500;
						to: 0 360 0;
						dur: 3000; 
						loop: true;"
				animation__mouseenter="property: scale;
						to: 1.1 1.1 1.1;
						startEvents: mouseenter;
						dur: 200"
				animation__mouseentercolor="property: color;
						to: #00214D;
						startEvents: mouseenter;
						dur: 200"
				animation__mouseleavecolor="property: color;
						to: #006EFF;
						startEvents: mouseleave;
						dur: 200"
				animation__mouseleave="property: scale;
						to: 1 1 1;
						startEvents: mouseleave;
						dur: 200"
				animation__disappear="property: visible;
						to: false;
						startEvents: click"
						>
			</a-octahedron>

			<a-entity id="analyser">
			</a-entity>
			<!-- audioanalyser="src: #intro" -->

			<a-light id="firstcol"
			    type="ambient"
			    analysereffect="analyser: #analyser"
				color="#FFFFFF">
			</a-light>

			<a-entity id="firstcam"
			    camera="active: true"
				position="0 1.6 0"
				look-controls>
				<a-entity 
					cursor="rayOrigin: mouse"
					raycaster="objects: .interactable">
				</a-entity>
			</a-entity>

			<a-entity id="secondcam"
			    camera="active: false"
				position="0 3 0"
				rotation="-60 0 0">
				
			</a-entity>

		

		</a-scene>
	</body>
</html>